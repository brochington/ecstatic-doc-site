(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{109:function(n,e,t){"use strict";t.d(e,"a",(function(){return m})),t.d(e,"b",(function(){return d}));var r=t(0),o=t.n(r);function c(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){c(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function s(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},c=Object.keys(n);for(r=0;r<c.length;r++)t=c[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(r=0;r<c.length;r++)t=c[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var i=o.a.createContext({}),u=function(n){var e=o.a.useContext(i),t=e;return n&&(t="function"==typeof n?n(e):l(l({},e),n)),t},m=function(n){var e=u(n.components);return o.a.createElement(i.Provider,{value:e},n.children)},p={inlineCode:"code",wrapper:function(n){var e=n.children;return o.a.createElement(o.a.Fragment,{},e)}},b=o.a.forwardRef((function(n,e){var t=n.components,r=n.mdxType,c=n.originalType,a=n.parentName,i=s(n,["components","mdxType","originalType","parentName"]),m=u(t),b=r,d=m["".concat(a,".").concat(b)]||m[b]||p[b]||c;return t?o.a.createElement(d,l(l({ref:e},i),{},{components:t})):o.a.createElement(d,l({ref:e},i))}));function d(n,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var c=t.length,a=new Array(c);a[0]=b;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=n,l.mdxType="string"==typeof n?n:r,a[1]=l;for(var i=2;i<c;i++)a[i]=t[i];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"},99:function(n,e,t){"use strict";t.r(e),t.d(e,"frontMatter",(function(){return a})),t.d(e,"metadata",(function(){return l})),t.d(e,"toc",(function(){return s})),t.d(e,"default",(function(){return u}));var r=t(3),o=t(7),c=(t(0),t(109)),a={id:"web-comp-calc",title:"Web Components Calculator",sidebar_label:"Web Components Calculator",slug:"web-comp-calc"},l={unversionedId:"examples/web-comp-calc",id:"examples/web-comp-calc",isDocsHomePage:!1,title:"Web Components Calculator",description:'<iframe src="https://codesandbox.io/embed/fervent-elion-isq29?fontsize=14&hidenavigation=1&theme=dark"',source:"@site/docs/examples/web-comp-calc.md",slug:"/examples/web-comp-calc",permalink:"/docs/examples/web-comp-calc",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/examples/web-comp-calc.md",version:"current",sidebar_label:"Web Components Calculator",sidebar:"someSidebar",previous:{title:"Spinning Rectangles",permalink:"/docs/examples/spinning-rectangles"}},s=[],i={toc:s};function u(n){var e=n.components,t=Object(o.a)(n,["components"]);return Object(c.b)("wrapper",Object(r.a)({},i,t,{components:e,mdxType:"MDXLayout"}),Object(c.b)("div",null,Object(c.b)("iframe",{src:"https://codesandbox.io/embed/fervent-elion-isq29?fontsize=14&hidenavigation=1&theme=dark",style:{width:"100%",height:"600px",border:"0",borderRadius:"4px",overflow:"hidden"},title:"fervent-elion-isq29",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>DOM Calculator Example</title>\n    <link rel="preconnect" href="https://fonts.gstatic.com" />\n    <link\n      href="https://fonts.googleapis.com/css2?family=Roboto+Mono&family=VT323&display=swap"\n      rel="stylesheet"\n    />\n    <style>\n      ecs-calculator {\n        width: 160px;\n        display: grid;\n        grid-template-rows: repeat(6, 40px);\n        grid-template-columns: repeat(4, 40px);\n        gap: 1px;\n        overflow: hidden;\n        border-radius: 6px;\n      }\n\n      number-btn,\n      operator-btn,\n      equals-btn,\n      clear-btn {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-family: "Roboto Mono", monospace;\n      }\n\n      calc-screen {\n        padding: 4px;\n        grid-column-start: 1;\n        grid-column-end: 5;\n        background-color: silver;\n        font-family: "VT323", monospace;\n        font-size: 30px;\n        overflow: hidden;\n        display: flex;\n        justify-content: flex-end;\n        align-items: flex-end;\n      }\n\n      clear-btn {\n        font-size: 13px;\n        background-color: rgb(124, 124, 124);\n      }\n\n      number-btn {\n        background-color: rgb(100, 100, 100);\n      }\n\n      operator-btn {\n        background-color: rgb(224, 144, 24);\n      }\n\n      equals-btn {\n        grid-column-start: 3;\n        grid-column-end: 5;\n        background-color: rgb(31, 31, 31);\n      }\n\n      clear-btn {\n        grid-column-start: 1;\n        grid-column-end: 4;\n      }\n    </style>\n  </head>\n  <body>\n    <h1>DOM Calculator Example</h1>\n\n    <div>\n      <ecs-calculator>\n        <calc-screen></calc-screen>\n\n        <clear-btn>CLEAR</clear-btn>\n        <operator-btn>/</operator-btn>\n\n        <number-btn>7</number-btn>\n        <number-btn>8</number-btn>\n        <number-btn>9</number-btn>\n        <operator-btn>*</operator-btn>\n\n        <number-btn>4</number-btn>\n        <number-btn>5</number-btn>\n        <number-btn>6</number-btn>\n        <operator-btn>-</operator-btn>\n\n        <number-btn>1</number-btn>\n        <number-btn>2</number-btn>\n        <number-btn>3</number-btn>\n        <operator-btn>+</operator-btn>\n\n        <number-btn>0</number-btn>\n        <number-btn>.</number-btn>\n\n        <equals-btn>=</equals-btn>\n      </ecs-calculator>\n    </div>\n\n    <script\n      type="module"\n      src="https://unpkg.com/@brochington/ecstatic@0.2.0"\n    ><\/script>\n    <script type="module">\n      /* World */\n\n      const { World } = ecstatic;\n      const world = new World();\n\n      /* Components */\n\n      class ECSCalculator extends HTMLElement {\n        constructor() {\n          super();\n\n          this.currentValue = "";\n          this.currentTotal = "";\n          this.algo = [];\n\n          this.calculatorEntity = world.createEntity().add(this);\n        }\n      }\n\n      class CalcBtn extends HTMLElement {\n        constructor() {\n          super();\n          this.addEventListener("click", () => {\n            const { calculatorEntity } = this.closest("ecs-calculator");\n\n            calculatorEntity.add(this);\n\n            world.systems.run();\n          });\n        }\n      }\n\n      class CalcScreen extends HTMLElement {\n        constructor() {\n          super();\n          const { calculatorEntity } = this.closest("ecs-calculator");\n\n          calculatorEntity.add(this);\n        }\n      }\n\n      class NumberBtn extends CalcBtn {}\n\n      class OperatorBtn extends CalcBtn {}\n\n      class EqualsBtn extends CalcBtn {}\n\n      class ClearBtn extends CalcBtn {}\n\n      /* Define Components as Custom Elements */\n\n      customElements.define("ecs-calculator", ECSCalculator);\n      customElements.define("calc-screen", CalcScreen);\n      customElements.define("number-btn", NumberBtn);\n      customElements.define("operator-btn", OperatorBtn);\n      customElements.define("equals-btn", EqualsBtn);\n      customElements.define("clear-btn", ClearBtn);\n\n      /* Systems */\n\n      function accumulateNumber({ entity, components }) {\n        const calcComp = components.get(ECSCalculator);\n        const numComp = components.get(NumberBtn);\n\n        calcComp.currentValue += numComp.innerText;\n\n        entity.remove(NumberBtn);\n      }\n\n      world.addSystem([ECSCalculator, NumberBtn], accumulateNumber);\n\n      //\n\n      function accumulateOperator({ entity, components }) {\n        const calcComp = components.get(ECSCalculator);\n        const operatorComp = components.get(OperatorBtn);\n\n        calcComp.algo.push(calcComp.currentValue);\n        calcComp.algo.push(operatorComp.innerText);\n\n        calcComp.currentValue = "";\n\n        entity.remove(OperatorBtn);\n      }\n\n      world.addSystem([ECSCalculator, OperatorBtn], accumulateOperator);\n\n      //\n\n      function computeValue({ entity, components }) {\n        const calcComp = components.get(ECSCalculator);\n\n        calcComp.algo.push(calcComp.currentValue);\n\n        const algoString = calcComp.algo.join(" ");\n\n        const total = +eval(algoString).toFixed(6);\n        calcComp.currentTotal = total;\n        calcComp.currentValue = total;\n\n        entity.remove(EqualsBtn);\n      }\n\n      world.addSystem([ECSCalculator, EqualsBtn], computeValue);\n\n      //\n\n      function clearComputation({ entity, components }) {\n        const calcComp = components.get(ECSCalculator);\n\n        calcComp.currentValue = "";\n        calcComp.currentTotal = "";\n        calcComp.algo = [];\n\n        entity.remove(ClearBtn);\n      }\n\n      world.addSystem([ECSCalculator, ClearBtn], clearComputation);\n\n      //\n\n      function renderScreen({ components }) {\n        const calcComp = components.get(ECSCalculator);\n        const screenComp = components.get(CalcScreen);\n\n        screenComp.innerText = calcComp.currentValue;\n      }\n\n      world.addSystem([ECSCalculator, CalcScreen], renderScreen);\n    <\/script>\n  </body>\n</html>\n')))}u.isMDXComponent=!0}}]);